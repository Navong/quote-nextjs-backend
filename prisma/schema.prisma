generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Quote {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  content      String
  author       String
  authorSlug   String
  length       Int
  dateAdded    DateTime @default(now())
  dateModified DateTime @updatedAt
  externalId   String   @unique
  favorites    String[] // Store Favorite IDs as an array
  tags         String[] // Store Tag IDs as an array

  @@index([dateAdded])
}

model Favorite {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  userId            String   // Reference to User ID
  quoteId           String   // Reference to Quote ID
  createdAt         DateTime @default(now())
  translatedContent String?

  @@unique([userId, quoteId])
  @@index([userId])
  @@index([quoteId])
}

model User {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  email     String?  @unique
  favorites String[] // Store Favorite IDs as an array
}

model Tag {
  id       String   @id @default(auto()) @map("_id") @db.ObjectId
  name     String   @unique
  quotes   String[] // Store Quote IDs as an array

}
